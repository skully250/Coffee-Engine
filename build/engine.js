// Generated by CoffeeScript 1.7.1
(function() {
  var engine,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  engine = (function(_super) {
    __extends(engine, _super);

    engine.prototype.canvas = null;

    engine.prototype.context = null;

    function engine() {
      this.canvas = document.createElement('canvas');
      this.context = this.canvas.getContext('2d');
      this.setSize(512, 480);
      document.body.appendChild(this.canvas);
    }

    engine.prototype.setSize = function(width, height) {
      var size;
      size = [width, height];
      this.canvas.width = width;
      this.canvas.height = height;
      return size;
    };

    engine.prototype.setBackground = function(imageLoc, fullBackground) {
      var full;
      full = fullBackground || false;
      if (full === false) {
        return this.terrainPattern = this.context.drawImage(imageLoc, 0, 0);
      } else {
        return this.terrainPatter = this.context.createPattern(resources.get('assets/images/test/terrain.png', 'repeat'));
      }
    };

    engine.prototype.renderBackground = function() {
      this.context.fillStyle = this.terrainPattern;
      return this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);
    };

    engine.prototype.clear = function() {
      return this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    };

    engine.prototype.collides = function(x, y, r, b, x2, y2, r2, b2) {
      return !(r <= x2 || x > r2 || b <= y2 || y > b2);
    };

    engine.prototype.boxCollides = function(pos, size, pos2, size2) {
      return this.collides(pos[0], pos[1], pos[0] + size[0], pos[1] + size[1], pos2[0], pos2[1], pos2[0] + size2[0], pos2[1] + size2[1]);
    };

    return engine;

  })(resources);

}).call(this);
