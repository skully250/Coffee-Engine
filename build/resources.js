// Generated by CoffeeScript 1.7.1
(function() {
  var resources;

  resources = (function() {
    resources.prototype.resourceCache = [];

    resources.prototype.loading = [];

    resources.prototype.readyCallBacks = [];

    function resources() {}

    resources.prototype.load = function(urlOrArr) {
      if (urlOrArr === Array) {
        return urlOrArr.forEach(function(url) {
          return _load(url);
        });
      } else {
        return _load(urlOrArr);
      }
    };

    resources.prototype._load = function(url) {
      var img;
      if (resourceCache[url]) {
        return resourceCache[url];
      } else {
        img = new Image();
        img.onLoad = function() {
          resourceCache[url] = img;
          if (isReady()) {
            return readyCallbacks.forEach(function(func) {
              return func();
            });
          }
        };
        resourceCache[url] = false;
        return img.src = url;
      }
    };

    resources.prototype.get = function(url) {
      return resourceCache[url];
    };

    resources.prototype.isReady = function() {
      var k, ready, _i, _len, _results;
      ready = true;
      _results = [];
      for (_i = 0, _len = resourceCache.length; _i < _len; _i++) {
        k = resourceCache[_i];
        if (resourceCache.hasOwnProperty[k] && !resourceCache[k]) {
          _results.push(ready = false);
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    };

    resources.prototype.onReady = function() {
      return readyCallbacks.push(func);
    };

    window.resources = resources;

    return resources;

  })();

}).call(this);
